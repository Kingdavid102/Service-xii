<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank of America - Mobile</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #f5f5f5;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        .mobile-container {
            max-width: 420px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
        }

        /* Status bar styling to match screenshot */
        .status-bar {
            background: white;
            padding: 8px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
            color: #333;
            border-bottom: 1px solid #e8e8e8;
        }

        .status-time {
            font-weight: 600;
        }

        .status-icons {
            display: flex;
            gap: 4px;
            font-size: 12px;
        }

        /* Header redesign for real Bank of America look */
        .header {
            background: white;
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #e8e8e8;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .header-back {
            background: none;
            border: none;
            color: #333;
            font-size: 24px;
            cursor: pointer;
            display: none;
        }

        .header-back.show {
            display: block;
        }

        .header-logo {
            font-size: 14px;
            font-weight: 700;
            color: #333;
            letter-spacing: 0.5px;
        }

        .header-right {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .header-icon-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #333;
            position: relative;
        }

        .header-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #c41e3a;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        /* Tab navigation styling */
        .tab-navigation {
            display: flex;
            border-bottom: 1px solid #ddd;
            background: white;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .tab-button {
            flex: 1;
            padding: 14px;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            text-align: center;
        }

        .tab-button.active {
            color: #c41e3a;
            border-bottom-color: #c41e3a;
        }

        .main-content {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 80px;
            background: #f9f9f9;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Search bar styling */
        .search-container {
            padding: 12px 16px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .search-box {
            flex: 1;
            background: #f0f0f0;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            padding: 10px 14px;
            font-size: 14px;
            color: #999;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-icon {
            color: #999;
        }

        .search-box input {
            border: none;
            background: none;
            outline: none;
            flex: 1;
            font-size: 14px;
            color: #333;
        }

        .search-box input::placeholder {
            color: #999;
        }

        .promo-badge {
            display: flex;
            align-items: center;
            justify-content: center;
            background: #c41e3a;
            color: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 20px;
            flex-shrink: 0;
        }

        .promo-number {
            font-size: 12px;
            font-weight: 700;
        }

        /* Card styling for account sections */
        .account-section-card {
            background: white;
            margin: 10px 12px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .section-item {
            padding: 14px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }

        .section-item:last-child {
            border-bottom: none;
        }

        .section-item:hover {
            background: #f9f9f9;
        }

        .section-item-left {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .section-item-title {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        .section-item-subtitle {
            font-size: 13px;
            color: #999;
        }

        .section-item-arrow {
            color: #ccc;
            font-size: 20px;
        }

        /* Bank account card styling */
        .bank-card-header {
            background: #c41e3a;
            color: white;
            padding: 14px 16px;
            font-size: 16px;
            font-weight: 700;
        }

        .bank-account-item {
            padding: 16px;
            border-bottom: 1px solid #e8e8e8;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .bank-account-item:last-child {
            border-bottom: none;
        }

        .account-details {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .account-name {
            font-size: 13px;
            color: #666;
            font-weight: 500;
        }

        .account-balance {
            font-size: 18px;
            font-weight: 700;
            color: #333;
        }

        .view-button {
            background: none;
            border: 1px solid #2a5298;
            color: #2a5298;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .view-button:hover {
            background: #f0f0f0;
        }

        /* Button styling */
        .primary-button {
            width: calc(100% - 24px);
            margin: 14px 12px;
            padding: 12px;
            background: #2a5298;
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .primary-button:hover {
            background: #1e3f6d;
        }

        .secondary-button {
            width: calc(100% - 24px);
            margin: 8px 12px;
            padding: 12px;
            background: white;
            color: #2a5298;
            border: 1px solid #2a5298;
            border-radius: 6px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .secondary-button:hover {
            background: #f9f9f9;
        }

        /* Alert/Alerts section */
        .alerts-section {
            background: white;
            margin: 12px;
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .alert-image {
            width: 100px;
            flex-shrink: 0;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }

        .alert-content {
            flex: 1;
            padding: 16px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 8px;
        }

        .alert-title {
            font-size: 16px;
            font-weight: 700;
            color: #333;
        }

        .alert-description {
            font-size: 13px;
            color: #666;
        }

        .alert-button {
            background: #c41e3a;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 12px;
            cursor: pointer;
            align-self: flex-start;
            transition: background 0.2s;
        }

        .alert-button:hover {
            background: #a01830;
        }

        /* Bottom navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 420px;
            height: 70px;
            background: white;
            border-top: 1px solid #ddd;
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 20;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2px;
            flex: 1;
            height: 100%;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 20px;
            color: #999;
            transition: color 0.2s;
            text-decoration: none;
        }

        .nav-item.active {
            color: #2a5298;
        }

        .nav-item-label {
            font-size: 10px;
            color: inherit;
            font-weight: 500;
        }

        /* Status badges */
        .status-badge {
            display: inline-block;
            background: #c41e3a;
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            margin-top: 8px;
        }

        .status-badge.frozen {
            background: #6c757d;
        }

        .status-badge.suspended {
            background: #dc3545;
        }

        .status-badge.pending {
            background: #ffc107;
            color: #333;
        }

        .status-badge.successful {
            background: #28a745;
        }

        .alert-note {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 12px;
            margin: 16px 16px 0;
            font-size: 13px;
            color: #856404;
            display: none;
        }

        .alert-note.show {
            display: block;
        }

        .alert-note-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        @media (max-width: 420px) {
            .mobile-container {
                box-shadow: none;
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="mobile-container">
 

<!-- Header redesigned -->
<div class="header">
    <div class="header-left">
        <button class="header-back" id="headerBack">‚Üê</button>
        <button class="header-icon-btn" id="menuBtn">‚ò∞</button>
        <div class="header-logo">BANK OF AMERICA</div>
    </div>
    <div class="header-right">
        <button class="header-icon-btn" id="notificationBtn">
            ‚úâÔ∏è
            <span class="header-badge" id="notificationBadge" style="display: none;"></span>
        </button>
        <button class="header-icon-btn" id="profileBtn">üë§</button>
        <button class="header-icon-btn" id="menuBtn">‚ãÆ</button>
    </div>
</div>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-button active" data-tab="accounts">
                Accounts
            </button>
            <button class="tab-button" data-tab="dashboard">
                Dashboard
            </button>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Accounts Tab -->
            <div id="accounts" class="tab-content active">
                <!-- Alert note for account status -->
                <div class="alert-note" id="userAlert">
                    <div class="alert-note-title">Account Notice</div>
                    <div id="alertMessage"></div>
                </div>

                <!-- Search bar added -->
                <div class="search-container">
                    <div class="search-box">
                        <span class="search-icon">üîç</span>
                        <input type="text" placeholder="How can we help?">
                    </div>
                    <div class="promo-badge">
                        <span class="promo-number">4</span>
                    </div>
                </div>

                <!-- Greeting and menu items -->
                <div class="account-section-card">
                    <div class="section-item">
                        <div class="section-item-left">
                            <div class="section-item-title" id="greetingName">Hello!</div>
                            <div id="statusBadge"></div>
                        </div>
                        <div class="section-item-arrow">‚Ä∫</div>
                    </div>
                    <div class="section-item">
                        <div class="section-item-left">
                            <div class="section-item-title">Bank of America Life Plan¬Æ</div>
                            <div class="section-item-subtitle">Your next steps are ready. Let's go!</div>
                        </div>
                        <div class="section-item-arrow">‚Ä∫</div>
                    </div>
                    <div class="section-item">
                        <div class="section-item-left">
                            <div class="section-item-title">My Rewards</div>
                        </div>
                        <div class="section-item-arrow">‚Ä∫</div>
                    </div>
                </div>

                <!-- Bank of America Accounts -->
                <div class="account-section-card">
                    <div class="bank-card-header">Bank of America</div>
                    <div id="accountsList"></div>
                </div>

                <button class="secondary-button" onclick="openPage('new-account')">
                    OPEN NEW ACCOUNT
                </button>

                <!-- Alerts Section -->
                <div class="alerts-section">
                    <div class="alert-image">üì±</div>
                    <div class="alert-content">
                        <div class="alert-title">Alerts</div>
                        <div class="alert-description">Get notified about account activity and more.</div>
                        <button class="alert-button" onclick="toggleAlerts()">Turn on</button>
                    </div>
                </div>
            </div>

            <!-- Dashboard Tab -->
            <div id="dashboard" class="tab-content">
                <div class="search-container">
                    <div class="search-box">
                        <span class="search-icon">üîç</span>
                        <input type="text" placeholder="How can we help?">
                    </div>
                    <div class="promo-badge">
                        <span class="promo-number">4</span>
                    </div>
                </div>

                <div class="account-section-card">
                    <div class="section-item">
                        <div class="section-item-left">
                            <div class="section-item-title" id="dashboardGreeting">Dashboard Overview</div>
                            <div class="section-item-subtitle">Your financial summary</div>
                        </div>
                    </div>
                </div>

                <!-- Account Summary -->
                <div class="account-section-card">
                    <div class="bank-card-header">Account Summary</div>
                    <div id="dashboardSummary"></div>
                </div>

                <!-- Recent Activity -->
                <div class="account-section-card">
                    <div class="bank-card-header">Recent Activity</div>
                    <div id="recentActivity"></div>
                </div>

                <button class="primary-button" onclick="openPage('transfer-page')">
                    Send Money
                </button>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <button class="nav-item active" id="accountsNav" onclick="switchTab('accounts')">
                <span>üí∞</span>
                <span class="nav-item-label">Accounts</span>
            </button>
            <button class="nav-item" id="transferNav" onclick="openPage('transfer-page')">
                <span>üîÑ</span>
                <span class="nav-item-label">Transfer</span>
            </button>
            <button class="nav-item" id="zeleNav" onclick="#">
                <span>üí∏</span>
                <span class="nav-item-label">Zelle¬Æ</span>
            </button>
            <button class="nav-item" id="billNav" onclick="#">
                <span>üí≥</span>
                <span class="nav-item-label">Bill Pay</span>
            </button>
            <button class="nav-item" id="depositsNav" onclick="#">
                <span>üì§</span>
                <span class="nav-item-label">Deposit Checks</span>
            </button>
            <button class="nav-item" id="investNav" onclick="#">
                <span>üìà</span>
                <span class="nav-item-label">Invest</span>
            </button>
        </div>
    </div>
    
    <!-- Begin of Chaport Live Chat code -->
<script type="text/javascript">
(function(w,d,v3){
w.chaportConfig = {
appId : '6922dfd9c414f40f567968dc',
};

if(w.chaport)return;v3=w.chaport={};v3._q=[];v3._l={};v3.q=function(){v3._q.push(arguments)};v3.on=function(e,fn){if(!v3._l[e])v3._l[e]=[];v3._l[e].push(fn)};var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://app.chaport.com/javascripts/insert.js';var ss=d.getElementsByTagName('script')[0];ss.parentNode.insertBefore(s,ss)})(window, document);
</script>
<!-- End of Chaport Live Chat code -->
    
    <script src="app.js"></script>
    <script>
        // Update time in status bar
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            document.getElementById('statusTime').textContent = timeString;
        }
        
        // Initialize time and update every minute
        updateTime();
        setInterval(updateTime, 60000);
        
        // Override functions to match the new design
        function renderAccounts() {
            const accountsList = document.getElementById('accountsList');
            accountsList.innerHTML = '';

            if (userAccounts.length === 0) {
                accountsList.innerHTML = `
                    <div class="bank-account-item">
                        <div class="account-details">
                            <div class="account-name">No Accounts Found</div>
                            <div class="account-balance">$0.00</div>
                        </div>
                    </div>
                `;
                return;
            }

            userAccounts.forEach(account => {
                const item = document.createElement('div');
                item.className = 'bank-account-item';
                
                item.innerHTML = `
                    <div class="account-details">
                        <div class="account-name">${account.accountName} - ${account.accountNumber}</div>
                        <div class="account-balance">$${formatNumber(account.availableBalance.toFixed(2))}</div>
                    </div>
                    <button class="view-button" onclick="viewAccount('${account.accountId}')">VIEW</button>
                `;
                
                accountsList.appendChild(item);
            });
        }

        function renderDashboard() {
            // Account summary cards
            const summary = document.getElementById('dashboardSummary');
            summary.innerHTML = '';

            const totalBalance = userAccounts.reduce((sum, acc) => sum + acc.balance, 0);

            let summaryHTML = `
                <div class="bank-account-item">
                    <div class="account-details">
                        <div class="account-name">Total Balance - All Accounts</div>
                        <div class="account-balance">$${formatNumber(totalBalance.toFixed(2))}</div>
                    </div>
                </div>
            `;

            userAccounts.forEach(acc => {
                summaryHTML += `
                    <div class="bank-account-item">
                        <div class="account-details">
                            <div class="account-name">${acc.accountName} - ${acc.accountNumber}</div>
                            <div class="account-balance">$${formatNumber(acc.balance.toFixed(2))}</div>
                        </div>
                    </div>
                `;
            });

            summary.innerHTML = summaryHTML;

            // Recent transactions
            const recent = document.getElementById('recentActivity');
            recent.innerHTML = '';

            if (userTransactions.length === 0) {
                recent.innerHTML = `
                    <div class="bank-account-item">
                        <div class="account-details">
                            <div class="account-name">No Recent Activity</div>
                            <div class="account-balance">$0.00</div>
                        </div>
                    </div>
                `;
            } else {
                userTransactions.slice(0, 5).forEach(trans => {
                    const date = new Date(trans.timestamp).toLocaleDateString();
                    const isDebit = trans.fromUserId === currentUser.userId;
                    const type = isDebit ? 'Sent' : 'Received';
                    
                    const item = document.createElement('div');
                    item.className = 'bank-account-item';
                    item.style.cursor = 'pointer';
                    item.onclick = () => viewTransaction(trans.transactionId);
                    
                    item.innerHTML = `
                        <div class="account-details">
                            <div class="account-name">${type} - ${trans.type}</div>
                            <div class="account-balance" style="color: ${isDebit ? '#c41e3a' : '#28a745'}">
                                ${isDebit ? '-' : '+'}$${formatNumber(trans.amount.toFixed(2))}
                            </div>
                            <div style="font-size: 11px; color: #999;">${date}</div>
                        </div>
                    `;
                    
                    recent.appendChild(item);
                });
            }
        }

        function updateNotificationBadge() {
            const badge = document.getElementById('notificationBadge');
            if (unreadNotifications > 0) {
                badge.textContent = unreadNotifications;
                badge.style.display = 'flex';
            } else {
                badge.style.display = 'none';
            }
        }

        function toggleAlerts() {
            alert('Alerts enabled ‚úÖ.');
        }

        // Add formatNumber function to enable comma formatting in this script
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
    </script>
</body>
</html>
